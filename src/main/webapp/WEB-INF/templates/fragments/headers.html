<!DOCTYPE html>

<html
		xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
		lang="cs"
>
	<head th:fragment="head(title)">
		<title th:replace="${title}">PIA ukázka</title>
		<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/style.css}">
		<link rel="stylesheet" type="text/css" media="all" th:href="@{/css/all.min.css}">
	</head>
	<body>
		<nav th:fragment="nav">
			<ul>
				<li>
					<h2>
						<a th:href="@{/}" class="href-no-underline">Účetnictví PIA</a>
					</h2>
				</li>
			</ul>
		</nav>
		<nav th:fragment="nav">
			<ul>
				<!--Home button-->
				<li>
					<a th:href="@{/}"><i class="fa fa-home header-fa-icon-size"></i></a>
				</li>
				<li sec:authorize="isAuthenticated()" th:fragment="nav">
					<div>Přihlášený uživatel: <span sec:authentication="name"></span>, Role: <span sec:authentication="principal.authorities"></span></div>
				</li>
			</ul>
			<ul>
				<!--Unauthorized user buttons-->
				<li sec:authorize="!isAuthenticated()">
					<a th:href="@{/services}" class="href-no-underline header-font-size">Služby</a>
				</li>
				<li sec:authorize="!isAuthenticated()">
					<a th:href="@{/info}" class="href-no-underline header-font-size">Info</a>
				</li>

				<!--User buttons-->
				<li sec:authorize="isAuthenticated()">
					<div class="dropdown">
						<button class="dropbtn">Účet</button>
						<div class="dropdown-content">
							<a th:href="@{/user/info}" class="href-no-underline dropdown-font-size">Údaje</a>
							<a th:href="@{/user/password}" class="href-no-underline dropdown-font-size">Změna hesla</a>
						</div>
					</div>
					<a th:href="@{/invoices/info}" class="href-no-underline dropdown-font-size">Faktury</a>
        		</li>

				<!--Admin buttons-->
				<li sec:authorize="hasAuthority('ADMIN')">
					<a th:href="@{/admin/manage}" class="href-no-underline dropdown-font-size">Seznam účtů</a>
				</li>


				<!--Purser buttons-->
				<li sec:authorize="hasAuthority('PURSER')">
					<a th:href="@{/addressbook/info}" class="href-no-underline dropdown-font-size">Kontakty</a>
				</li>

				<!--Login / Logout button-->
				<li sec:authorize="!isAuthenticated()">
					<a th:href="@{/login}"><i class="fa fa-sign-in-alt header-fa-icon-size"></i></a>
				</li>

				<li sec:authorize="isAuthenticated()">
					<a th:href="@{/logout}"><i class="fa fa-sign-out-alt header-fa-icon-size"></i></a>
				</li>
			</ul>
		</nav>
	</body>
</html>
